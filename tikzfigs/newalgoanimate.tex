\begin{animateinline}[
  begin={%
    \begin{tikzpicture}%
      [post/.style={->,>=stealth', semithick, draw=blue},
        node/.style={circle,fill=red!20,draw,font=\sffamily\small}]%
      \useasboundingbox (0,0) rectangle (4,5.5);
  },
  end={\end{tikzpicture}}
]{10}
  \draw[fill=red] (3,3) -- (2.75,3) -- (3.25,3.25) -- (3,2.75) -- cycle;
  \node[color=blue] at (3, 2.3) {$r_3$};      
  \draw[fill=red] (0.5,4.5) -- (0.33,4) -- (0.5,4.125) -- (0.67,4) -- cycle;
  \node[color=blue] at (0.25, 3.75) {$r_4$};   
  \draw[fill=red] (1,1.5) -- (1.25,1) -- (1.25,1.25) -- (1.5,1.25) -- cycle;
  \node[color=blue] at (1.75, 1.25) {$r_2$};   
  \draw[fill=red] (3,4.75) -- (2.75,4.75) -- (3.25,5) -- (3,4.5) -- cycle;
  \node[color=blue] at (3, 4.25) {$r_1$};   
  \newframe*
  \multiframe{10}{rP = 0.1 +.1}{ 
    \draw[fill=red] (3,3) -- (2.75,3) -- (3.25,3.25) -- (3,2.75)  -- cycle;
    \node[color=black] at (1.75,5.2) {Broadcast Message};
    \node[color=blue] at (3, 2.3) {$r_3$};  
    \draw[fill=red] (0.5,4.5) -- (0.33,4) -- (0.5,4.125) -- (0.67,4) -- cycle;
    \node[color=blue] at (0.25, 3.75) {$r_4$};   
    \draw[fill=red] (1,1.5) -- (1.25,1) -- (1.25,1.25) -- (1.5,1.25) -- cycle;
    \node[color=blue] at (1.75, 1.25) {$r_2$};   
    \draw[fill=red] (3,4.75) -- (2.75,4.75) -- (3.25,5) -- (3,4.5) -- cycle;
    \node[color=blue] at (3, 4.25) {$r_1$};   
    \path (3,3) -- (1.25, 1.25) node[pos=\rP] (q){};
    \draw[post] (3,3) -- (q.west);
    
    \path (3,3) -- (0.5, 4.125) node[pos=\rP] (q){};
    \draw[post] (3,3) -- (q.west);
    
    \path (1.5, 1.25) -- (3,2.5) node[pos=\rP] (q){};
    \draw[post] (1.5, 1.25) -- (q.west);
    
    %\path (1.25, 1.5) -- (0.5, 4.125) node[pos=\rP] (q){};
    %\draw[post] (1.25, 1.5) -- (q.south);
    
    \path (0.5, 4.5) -- (3.25, 3.25) node[pos=\rP] (q){};
    \draw[post] (0.5, 4.5) -- (q.north);

    %\path (0.33, 4) -- (1, 1.5) node[pos=\rP] (q){};
    %\draw[post] (0.33, 4) -- (q.north);

    \path (3,3) -- (3.25,4.75) node[pos=\rP] (q){};
    \draw[post] (3,3) -- (q.south);

    \path (3,4.75) -- (2.75,3) node[pos=\rP] (q){};
    \draw[post] (3,4.75) -- (q.north);

    \path (0.5,4.5) -- (3,4.75) node[pos=\rP] (q){};
    \draw[post] (0.5,4.5) -- (q.west);

    \path (3,4.6) -- (0.6,4.35) node [pos=\rP] (q){};
    \draw[post] (3,4.6) -- (q.east);
  }
  \newframe*
  \multiframe{10}{rP = 0.1 +.1}{
    \node[color=black] at (1.75, 5.2) {Form Tree};
    \draw[fill=green] (3,3) -- (2.75,3) -- (3.25,3.25) -- (3,2.75)  -- cycle;
    \node[color=blue] at (3.2, 2.3) {$r_3$};
    \node[color=blue] at (3.2, 2) {relocate};
    \draw[fill=blue] (0.5,4.5) -- (0.33,4) -- (0.5,4.125) -- (0.67,4) -- cycle;
    \node[color=blue] at (0.25, 3.75) {$r_4$};
    \node[color=blue] at (0.5, 3.35) {root};
    \draw[fill=orange] (1,1.5) -- (1.25,1) -- (1.25,1.25) -- (1.5,1.25) -- cycle;
    \node[color=blue] at (1.75,1.25) {$r_2$};
    \draw[fill=red] (3,4.75) -- (2.75,4.75) -- (3.25,5) -- (3,4.5) -- cycle;
    \node[color=blue] at (3, 4.25) {$r_1$};  
    %\path (3,3) -- (1.25, 1.25) node[pos=\rP] (q){};
    \draw[post] (3,3) -- (1.25,1.25); % r3 --> r2 
    \draw[post] (0.5, 4.25) -- (3,4.6); % r4 --> r1
    % \path (3,3) -- (0.5, 4.125) node[pos=\rP] (q){};
    \draw[post] (0.5, 4.25) -- (3,3); % r4 --> r3
    \draw[color=purple] (1,3) -- (0.75,3) -- (1.25,3.25) -- (1,2.75) -- cycle;
    \node[color=purple] at (1,2.5) {vacancy};
    \draw[dashed](0.5,4.125) -- (1,3);
  }
  \newframe*
  \multiframe{10}{rP = 0.1 +.1}{ 
    \node[color=black] at (1.75, 5.2) {Movement};
    %    \draw[fill=green] (3,3) -- (2.75,3) -- (3.25,3.25) -- (3,2.75)  -- cycle;
    %\node[color=blue] at (3.2, 2.3) {$r_3$};
    %\node[color=blue] at (3.2, 2) {relocate};
    \draw[fill=blue] (0.5,4.5) -- (0.33,4) -- (0.5,4.125) -- (0.67,4) -- cycle;
    \node[color=blue] at (0.25, 3.75) {$r_4$};
    \draw[fill=orange] (1,1.5) -- (1.25,1) -- (1.25,1.25) -- (1.5,1.25) -- cycle;
    \node[color=blue] at (1.75,1.25) {$r_2$};
    \draw[fill=red] (3,4.75) -- (2.75,4.75) -- (3.25,5) -- (3,4.5) -- cycle;
    \node[color=blue] at (3, 4.25) {$r_1$};  
    %\path (3,3) -- (1.25, 1.25) node[pos=\rP] (q){};
    \draw[post] (1,3) -- (1.25,1.25); % r3 --> r2 
    \draw[post] (0.5, 4.25) -- (3,4.6); % r4 --> r1
    % \path (3,3) -- (0.5, 4.125) node[pos=\rP] (q){};
    \draw[post] (0.5, 4.25) -- (1,3); % r4 --> r3
    \draw[fill=blue] (1,3) -- (0.75,3) -- (1.25,3.25) -- (1,2.75) -- cycle;
    %\node[color=purple] at (1,2.5) {vacancy};
    \node[color=blue] at (1.2, 2.7) {$r_3$};
  }
  \newframe*
  \multiframe{10}{rP = 0.1 +.1}{ 
    \node[color=black] at (1.75, 5.2) {Next Round ...};
    \draw[fill=blue] (0.5,4.5) -- (0.33,4) -- (0.5,4.125) -- (0.67,4) -- cycle;
    \node[color=blue] at (0.25, 3.75) {$r_4$};
    \draw[fill=green] (1,1.5) -- (1.25,1) -- (1.25,1.25) -- (1.5,1.25) -- cycle;
    \node[color=blue] at (1.75,1.25) {$r_2$ (relocate)};
    \draw[fill=red] (3,4.75) -- (2.75,4.75) -- (3.25,5) -- (3,4.5) -- cycle;
    \node[color=blue] at (3, 4.25) {$r_1$};  
    %\path (3,3) -- (1.25, 1.25) node[pos=\rP] (q){};
    \draw[post] (1,3) -- (1.25,1.25); % r3 --> r2 
    \draw[post] (0.5, 4.25) -- (3,4.6); % r4 --> r1
    % \path (3,3) -- (0.5, 4.125) node[pos=\rP] (q){};
    \draw[post] (0.5, 4.25) -- (1,3); % r4 --> r3
    \draw[fill=blue] (1,3) -- (0.75,3) -- (1.25,3.25) -- (1,2.75) -- cycle;
    %\node[color=purple] at (1,2.5) {vacancy};
    \node[color=blue] at (1.2, 2.7) {$r_3$ (root)};
    \draw[dashed] (1,3) -- (2.5,2.625);
    \draw[color=purple] (2.5,3) -- (2.33,2.5) -- (2.5,2.625) -- (2.67,2.5) -- cycle;
    \node[color=purple] at (2.5, 3.2) {vacancy};
  }
\end{animateinline}